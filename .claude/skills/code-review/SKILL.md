---
name: code-review
# prettier-ignore
description: 코드 리뷰를 체계적으로 수행합니다. 사용자가 "리뷰해줘", "코드 리뷰", "PR 리뷰", "check this code", "이 코드 좀 봐줘"라고 하면 이 스킬을 사용합니다.
---

# 코드 리뷰 스킬

## 리뷰 체크리스트 (이 순서대로 항상 확인)
1. 우리 팀 코딩 스타일 준수 여부 (PHP 5.6 + PSR-1 + PSR-2 기준)
    - 들여쓰기: 4 spaces (탭 절대 금지)
    - 줄 길이: 80자 soft limit (가능하면 80자 이하), 120자 hard limit
    - 클래스/메서드/함수 열린 중괄호: 반드시 새 줄에
    - 제어 구조(if, while, for 등) 열린 중괄호: 같은 줄에
    - 클래스명: PascalCase (StudlyCaps)
    - 메서드/함수명: camelCase
    - 변수명: camelCase (또는 snake_case 일관성 유지)
    - 상수: UPPER_CASE_WITH_UNDERSCORES
    - PHP 키워드(true, false, null 등): 모두 소문자
    - 문자열: 싱글 쿼트(') 우선 사용
    - 배열: array() 문법 사용 권장 (PHP 5.6 호환성 위해)
    - 네임스페이스 선언 후 빈 줄 1개, use 문 블록 후 빈 줄 1개
    - DocBlock (/** */) 필수, PHPDoc 표준 준수
    - 타입 힌트: 클래스명/배열/콜러블만 사용 가능 (scalar 타입 힌트는 PHP 7+)

2. 보안·개인정보 이슈 (SQL 인젝션, XSS, CSRF, 파일 업로드 취약점 등)
3. 성능 문제 (N+1 쿼리, 불필요한 연산, 메모리 누수, 반복문 최적화 등)
4. 에러 처리 및 엣지 케이스 대응 (try-catch, null 체크, 빈 값 처리 등)
5. 테스트 커버리지 충분한가? (단위 테스트, 통합 테스트 누락 여부)
6. 브레이킹 체인지 여부 및 마이그레이션 필요성 (기존 코드 영향 범위)

## 출력 형식 (항상 이렇게 출력)
- ✅ 잘한 점
- ⚠️ 개선 제안 (코드 패치 포함)
- ❌ 치명적 문제 (반드시 수정)
  - 종합 점수 (1~10점)